{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilter","className","value","onChange","PersonForm","addButton","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","SingleEntry","person","handleButton","id","name","number","onClick","Person","numbersToShow","handleClick","map","single","key","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","col","style","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","notif","setNotif","setCol","names","numbers","toLowerCase","includes","useEffect","console","log","personServices","returnedData","event","target","preventDefault","alert","window","confirm","find","n","returnedPerson","per","Number","color","setTimeout","catch","error","scrollTo","NameObject","length","concat","test","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b3760113.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilter}) => {\r\n  return (<div  className=\"filter\">\r\n    filter shown with\r\n    <input value={filter} onChange={handleFilter}></input>\r\n  </div>)\r\n}\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addButton, newName, handleNewName, newNumber, handleNewNumber}) => {\r\n    return (<div>\r\n           <form onSubmit={addButton}>\r\n          <div>\r\n            name: <input value={newName} onChange={handleNewName} />\r\n          </div>\r\n          <div>\r\n            number: <input type=\"number\" value={newNumber} onChange={handleNewNumber}></input>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    </div>)\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n\r\nconst SingleEntry = ({person, handleButton}) => {\r\n  const id =person.id\r\n  const name = person.name\r\n  return (<div>\r\n    <li>{name} : {person.number} <button onClick={handleButton} name={name} value={id}>delete</button> </li> \r\n  </div>)\r\n}\r\nconst Person = ({numbersToShow, handleClick}) => {\r\n    return (<div>\r\n       <ul>\r\n       {numbersToShow.map(single => <SingleEntry key={single.id} person={single} handleButton={handleClick}/>)}\r\n        </ul> \r\n    </div>)\r\n  }\r\n\r\n\r\n  export default Person","import axios from 'axios'\r\nconst baseUrl = '/api/persons/'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject) \r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (newObject,id) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    remove,\r\n    update\r\n}","import React from \"react\"\r\n\r\nconst Notification = ({message,col}) => {\r\n    if (message === null)\r\n        return null;\r\n    \r\n    return (<div style={col} className=\"notif\">\r\n        {message}\r\n    </div>)\r\n}\r\n\r\nexport default Notification;","import React, { useState , useEffect} from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Person from \"./components/Person\";\r\nimport personServices from \"./services/persons\"\r\nimport Notification from \"./components/Notification\"\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [notif, setNotif] = useState(null);\r\n  const [col, setCol] = useState({});\r\n\r\n  const names = persons.map((person) => person.name);\r\n  const numbers = persons.map(person => person.number)\r\n\r\n  const addButton = (event) => {\r\n    event.preventDefault();\r\n    if (names.includes(newName) && numbers.includes(newNumber)) {\r\n      alert(`${newName} is already added to the phonebook`);\r\n      // console.log('includes already') \r\n    }\r\n    else if (names.includes(newName)) {\r\n     if (window.confirm(`${newName} already exists. Would you like to update the number for it`)) {\r\n       const person = persons.find(n => n.name === newName)\r\n       const newObject = {\r\n         ...person,\r\n         number: newNumber\r\n       };\r\n        personServices\r\n        .update(newObject,person.id)\r\n        .then(returnedPerson => {\r\n          // console.log(person.id)\r\n          setPersons(persons.map(per => per.id !== Number(person.id) ? per : returnedPerson));\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n          setNotif(`Succesfully updated the number of ${returnedPerson.name}`)\r\n          setCol({color:'green'})\r\n          setTimeout(()=> {\r\n            setNotif(null)\r\n          },2000)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n          window.scrollTo(0,0);\r\n          setNotif(`Information of ${person.name} has already been removed from the server`)\r\n          setCol({color:'red'})\r\n          setTimeout(()=> {\r\n            setNotif(null)\r\n          },2000)\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      const NameObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n        id: persons.length + 1,\r\n      };\r\n      personServices\r\n      .create(NameObject)\r\n      .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson));\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n          setNotif(`Succesfully added ${returnedPerson.name}`)\r\n          setCol({color:'green'})\r\n          setTimeout(()=> {\r\n            setNotif(null)\r\n          },2000)\r\n        })\r\n    }\r\n  };\r\n\r\n  const handleNewName = (event) => {\r\n    // console.log(event.target.value)\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNewNumber = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleFilter = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  const numbersToShow = persons.filter((person) =>\r\n    person.name.toLowerCase().includes(filter)\r\n  );\r\n\r\n  const handleButton = (event) => {\r\n    const id = event.target.value\r\n    const name= event.target.name\r\n    console.log(id)\r\n    if(window.confirm(`Are you sure you want to delete ${name} from the record?`)) {\r\n    personServices.remove(id)\r\n    .then(test=> {\r\n      setPersons(persons.filter(name=> name.id !== Number(id)))\r\n    }) \r\n    .catch(error => {\r\n      console.log(error)\r\n      window.scrollTo(0,0);\r\n      setNotif(`Information of ${name} has already been removed from the server`)\r\n      setCol({color:'red'})\r\n      setTimeout(()=> {\r\n        setNotif(null)\r\n      },2000)\r\n    })\r\n  }\r\n  }\r\n  \r\n  useEffect(()=> {\r\n    console.log('effect')\r\n    personServices.getAll()\r\n    .then(returnedData=>{\r\n      console.log('promise fulfilled')\r\n      setPersons(returnedData)\r\n    })\r\n  },[])\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"white\">\r\n      <h2>Phonebook</h2>\r\n      \r\n      <Notification message={notif} col={col} />\r\n\r\n      <Filter filter={filter} handleFilter={handleFilter} />\r\n\r\n      <h3>Add a new</h3>\r\n\r\n      <PersonForm\r\n        addButton={addButton}\r\n        newName={newName}\r\n        handleNewName={handleNewName}\r\n        newNumber={newNumber}\r\n        handleNewNumber={handleNewNumber}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n      <Person numbersToShow={numbersToShow} handleClick={handleButton} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(\r\n  <App/>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}